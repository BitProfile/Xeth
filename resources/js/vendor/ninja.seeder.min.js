var ninja={};ninja.seeder={seedLimit:function(){var num=Crypto.util.randomBytes(12)[11];return 200+Math.floor(num)}(),seedCount:0,lastInputTime:(new Date).getTime(),callback:{pool:null,complete:null},init:function(_pool,_complete){ninja.seeder.callback.pool=_pool;ninja.seeder.callback.complete=_complete;ninja.seeder.seedCount=0},seed:function(evt){if(!evt)var evt=window.event;var timeStamp=(new Date).getTime();if(ninja.seeder.seedCount==ninja.seeder.seedLimit){ninja.seeder.seedCount++;ninja.seeder.seedingOver()}else if(ninja.seeder.seedCount<ninja.seeder.seedLimit&&evt&&timeStamp-ninja.seeder.lastInputTime>40){SecureRandom.seedTime();SecureRandom.seedInt16(evt.clientX*evt.clientY);ninja.seeder.seedCount++;ninja.seeder.lastInputTime=(new Date).getTime();ninja.seeder.showPool()}},seedKeyPress:function(evt){if(!evt)var evt=window.event;if(ninja.seeder.seedCount==ninja.seeder.seedLimit){ninja.seeder.seedCount++;ninja.seeder.seedingOver()}else if(ninja.seeder.seedCount<ninja.seeder.seedLimit&&evt.which){var timeStamp=(new Date).getTime();SecureRandom.seedTime();SecureRandom.seedInt8(evt.which);var keyPressTimeDiff=timeStamp-ninja.seeder.lastInputTime;SecureRandom.seedInt8(keyPressTimeDiff);ninja.seeder.seedCount++;ninja.seeder.lastInputTime=(new Date).getTime();ninja.seeder.showPool()}},showPool:function(){var percentSeeded=Math.round(ninja.seeder.seedCount/ninja.seeder.seedLimit*100);ninja.seeder.callback.pool(percentSeeded)},seedingOver:function(){var poolHex=Crypto.util.bytesToHex(SecureRandom.pool);ninja.seeder.callback.complete(poolHex)}};